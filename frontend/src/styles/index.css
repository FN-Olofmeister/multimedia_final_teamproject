@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   BASE ë ˆì´ì–´ - HTML ê¸°ë³¸ ìŠ¤íƒ€ì¼
   ========================================= */
@layer base {
  /* ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ */
  html {
    scroll-behavior: smooth;
  }

  /* â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ */
  html[data-theme='light'] body {
    @apply bg-gray-50 text-gray-900;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ğŸŒ™ ë‹¤í¬ ëª¨ë“œ */
  html[data-theme='dark'] body {
    @apply bg-discord-dark text-gray-100;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ê¸°ë³¸ ìŠ¤í¬ë¡¤ë°” - ë¼ì´íŠ¸ í…Œë§ˆ */
  html[data-theme='light'] ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  html[data-theme='light'] ::-webkit-scrollbar-track {
    @apply bg-gray-200;
  }
  html[data-theme='light'] ::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
  }
  html[data-theme='light'] ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }

  /* ë‹¤í¬ ëª¨ë“œ ìŠ¤í¬ë¡¤ë°” */
  html[data-theme='dark'] ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  html[data-theme='dark'] ::-webkit-scrollbar-track {
    @apply bg-discord-darker;
  }
  html[data-theme='dark'] ::-webkit-scrollbar-thumb {
    @apply bg-gray-600 rounded-full;
  }
  html[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

/* =========================================
   COMPONENTS ë ˆì´ì–´ - ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
   ========================================= */
@layer components {
  /* Discord ìŠ¤íƒ€ì¼ ë²„íŠ¼ (ë¼ì´íŠ¸/ë‹¤í¬ ê³µí†µ) */
  .dashboard-root {
    @apply bg-gray-50 text-gray-900;
  }
  :root[data-theme='dark'] .dashboard-root {
    @apply bg-discord-dark text-gray-100;
  }

  /* ì‚¬ì´ë“œë°” */
  .dashboard-sidebar {
    @apply bg-white border-r border-gray-200;
  }
  :root[data-theme='dark'] .dashboard-sidebar {
    @apply bg-discord-darker border-gray-800;
  }

  /* ì¹´ë“œ(íšŒì˜ ë¦¬ìŠ¤íŠ¸, ë¹ˆ ìƒíƒœ ì¹´ë“œ ë“±) */
  .dashboard-card {
    @apply bg-white border border-gray-200;
  }
  :root[data-theme='dark'] .dashboard-card {
    @apply bg-discord-light border-gray-700;
  }

  /* RoomPage ì „ì²´ ë°°ê²½ */
  .room-root {
    @apply bg-gray-100 text-gray-900;
  }
  html[data-theme='dark'] .room-root {
    @apply bg-discord-dark text-gray-100;
  }

  /* RoomPage í—¤ë”/ì»¨íŠ¸ë¡¤ë°” */
  .room-header {
    @apply bg-white border-b border-gray-200;
  }
  html[data-theme='dark'] .room-header {
    @apply bg-discord-darker border-gray-800;
  }

  /* RoomPage ì‚¬ì´ë“œë°” (ì±„íŒ…/íŒŒì¼) */
  .room-sidebar {
    @apply bg-white border-l border-gray-200;
  }
  html[data-theme='dark'] .room-sidebar {
    @apply bg-discord-light border-gray-800;
  }

  /* RoomPage ì„¤ì • ëª¨ë‹¬ ë‚´ë¶€ ë°•ìŠ¤ */
  .room-settings-box {
    @apply bg-gray-100 rounded p-3;
  }
  html[data-theme='dark'] .room-settings-box {
    @apply bg-discord-darker;
  }

  /* ì»¨íŠ¸ë¡¤ë°” ë²„íŠ¼ (ê¸°ë³¸ ìƒíƒœ) */
  .control-btn {
    @apply p-3 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors;
  }
  html[data-theme='dark'] .control-btn {
    @apply bg-gray-700 hover:bg-gray-600 text-white;
  }

  /* íŒŒì¼ ì „ì†¡ ì»´í¬ë„ŒíŠ¸ ë°°ê²½ */
  .file-transfer-root {
    @apply bg-white rounded-lg p-6 space-y-4 border border-gray-200;
  }
  html[data-theme='dark'] .file-transfer-root {
    @apply bg-discord-light border-gray-700;
  }

  /* íŒŒì¼ ì „ì†¡ í†µê³„ ë°•ìŠ¤ */
  .file-transfer-stats {
    @apply bg-gray-100 rounded-lg p-4 space-y-2;
  }
  html[data-theme='dark'] .file-transfer-stats {
    @apply bg-discord-darker;
  }

  /* Discord ìŠ¤íƒ€ì¼ ë²„íŠ¼ */
  .btn-discord {
    @apply px-4 py-2 bg-discord-brand text-white rounded-md 
           hover:bg-discord-brandHover transition-colors duration-200
           font-medium text-sm focus:outline-none focus:ring-2 
           focus:ring-discord-brand focus:ring-offset-2 
           focus:ring-offset-gray-50;
  }
  html[data-theme='dark'] .btn-discord {
    @apply focus:ring-offset-discord-dark;
  }

  /* Zoom ìŠ¤íƒ€ì¼ ë²„íŠ¼ */
  .btn-zoom {
    @apply px-4 py-2 bg-zoom-blue text-white rounded-md 
           hover:bg-zoom-hover transition-colors duration-200
           font-medium text-sm focus:outline-none focus:ring-2 
           focus:ring-zoom-blue focus:ring-offset-2 
           focus:ring-offset-gray-50;
  }
  html[data-theme='dark'] .btn-zoom {
    @apply focus:ring-offset-discord-dark;
  }

  /* ë¹„ë””ì˜¤ ê·¸ë¦¬ë“œ ì»¨í…Œì´ë„ˆ */
  .video-grid {
    @apply grid gap-2 p-4 h-full w-full;
  }

  /* ë¹„ë””ì˜¤ íƒ€ì¼ - ë¼ì´íŠ¸ ê¸°ë³¸ */
  .video-tile {
    @apply relative bg-white rounded-lg overflow-hidden
           border border-gray-200 hover:border-gray-300 
           shadow-sm transition-all duration-200;
  }
  /* ë‹¤í¬ ëª¨ë“œìš© ë¹„ë””ì˜¤ íƒ€ì¼ */
  html[data-theme='dark'] .video-tile {
    @apply bg-discord-darker border-gray-700 hover:border-gray-600 shadow-none;
  }

  /* ì‚¬ì´ë“œë°” ì•„ì´í…œ */
  .sidebar-item {
    @apply flex items-center px-3 py-2 rounded-md text-gray-700
           hover:bg-gray-200 hover:text-gray-900
           transition-all duration-200 cursor-pointer;
  }
  html[data-theme='dark'] .sidebar-item {
    @apply text-gray-400 hover:bg-discord-hover hover:text-gray-100;
  }

  /* ì±„íŒ… ë©”ì‹œì§€ */
  .chat-message {
    @apply flex items-start px-4 py-2 hover:bg-gray-100
           transition-colors duration-200;
  }
  html[data-theme='dark'] .chat-message {
    @apply hover:bg-discord-hover;
  }

  /* ì…ë ¥ í•„ë“œ */
  .input-field {
    @apply w-full px-3 py-2 bg-white text-gray-900
           border border-gray-300 rounded-md
           focus:outline-none focus:border-discord-brand
           placeholder-gray-400 transition-colors duration-200;
  }
  html[data-theme='dark'] .input-field {
    @apply bg-discord-darker text-gray-100
           border-gray-700 placeholder-gray-500;
  }

  /* ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40
           flex items-center justify-center;
  }

  /* ëª¨ë‹¬ ì»¨í…ì¸  */
  .modal-content {
    @apply bg-white rounded-lg shadow-xl p-6
           max-w-md w-full mx-4 animate-scale-up;
  }
  html[data-theme='dark'] .modal-content {
    @apply bg-discord-light;
  }
}

/* =========================================
   UTILITIES ë ˆì´ì–´ - ìœ í‹¸ í´ë˜ìŠ¤
   ========================================= */
@layer utilities {
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .no-drag {
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
  }

  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glow {
    box-shadow: 0 0 20px rgba(88, 101, 242, 0.4);
  }

  .grid-1 { grid-template-columns: 1fr; }
  .grid-2 { grid-template-columns: repeat(2, 1fr); }
  .grid-3, .grid-4 { grid-template-columns: repeat(2, 1fr); }
  .grid-5, .grid-6 { grid-template-columns: repeat(3, 1fr); }
  .grid-7, .grid-8, .grid-9 { grid-template-columns: repeat(3, 1fr); }
  .grid-10, .grid-11, .grid-12 { grid-template-columns: repeat(4, 1fr); }

  @media (min-width: 1024px) {
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(2, 1fr); }
    .grid-7, .grid-8 { grid-template-columns: repeat(4, 1fr); }
    .grid-9 { grid-template-columns: repeat(3, 1fr); }
  }
}

/* =========================================
   ì• ë‹ˆë©”ì´ì…˜ / ê¸°íƒ€
   ========================================= */
@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.pulse-dot {
  animation: pulse-dot 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ë¡œë”© ìŠ¤í”¼ë„ˆ */
.spinner {
  border: 2px solid transparent;
  border-top-color: #5865f2;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
